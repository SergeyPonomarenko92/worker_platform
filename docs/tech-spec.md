# Технічне завдання (чернетка) — Worker Platform

> Мета: веб‑додаток для України (UI — українською), який поєднує:
> - портфоліо/пости + «історії» (Instagram‑подібно)
> - каталог/пошук товарів і послуг (OLX‑подібно)
> - відгуки/рейтинг лише після угоди (Rozetka‑подібно)

## 1) Терміни
- **Провайдер** — бізнес/майстер, який надає послуги або продає товари.
- **Клієнт** — користувач, який шукає послуги/товари.
- **Оффер (Offer)** — оголошення провайдера (послуга або товар).
- **Угода (Deal)** — факт взаємодії клієнта з провайдером, який може бути завершений.
- **Відгук (Review)** — оцінка провайдера клієнтом, доступна лише після завершеної угоди.

## 2) Ролі та права доступу (MVP)
### 2.1 Гість
- Перегляд каталогу офферів
- Перегляд сторінки провайдера

### 2.2 Клієнт (авторизований)
- Створювати угоду/заявку
- Переглядати свої угоди
- Після завершення — залишати відгук (1 відгук на 1 угоду)

### 2.3 Провайдер (авторизований)
- Створювати/редагувати бізнес‑профіль
- Створювати/редагувати оффери (послуга/товар)
- Публікувати портфоліо‑пости
- Публікувати історії (історії — з авто‑закінченням)
- Мінімально: змінювати статус угоди (в процесі/завершено/скасовано)

## 3) Основні сутності (дані)
### 3.1 BusinessProfile
- user_id, name, slug, about
- country_code=UA, city, address
- phone, website
- is_active

### 3.2 Category
- parent_id, name, slug

### 3.3 Offer
- business_profile_id, category_id
- type: service|product
- title, description
- price_from, price_to, currency=UAH
- is_active

### 3.4 PortfolioPost
- business_profile_id
- title, body, published_at

### 3.5 Story
- business_profile_id
- media_path, caption
- expires_at

### 3.6 Deal
- client_user_id
- business_profile_id
- offer_id (optional)
- status: draft|in_progress|completed|cancelled
- agreed_price, currency
- completed_at

### 3.7 Review
- deal_id (unique)
- business_profile_id
- client_user_id
- rating (1..5)
- body

## 4) Сторінки та UI (MVP)
### 4.1 Landing
- короткий опис продукту
- CTA: перейти в каталог / зареєструватися

### 4.2 Каталог (/catalog)
- фільтри: тип (послуги/товари), пошук по назві
- список офферів (з провайдером)

### 4.3 Сторінка провайдера (/providers/{slug})
- header‑блок: назва, місто, контакти, опис
- історії (кола)
- останні роботи (портфоліо)
- пропозиції (оффери)
- відгуки

### 4.4 Кабінет провайдера
- керування бізнес‑профілем
- керування офферами
- керування портфоліо
- керування історіями

### 4.5 Угоди
- клієнт: створити угоду
- провайдер: змінити статус
- клієнт: залишити відгук після completed

## 5) Бізнес‑правила
- Відгук дозволено лише якщо Deal.status=completed
- 1 Review на 1 Deal (unique deal_id)
- Невалідні рейтинги відхиляються (1..5)

## 6) Нефункціональні вимоги
- Масштабування: Postgres у проді; індекси на каталозі/провайдерах
- Локалізація UI: uk (MVP)
- Безпека: CSRF, auth (Breeze), ролі (policy/guards пізніше)

## 7) План робіт (етапи)
### Етап 0 — Базовий каркас (готово)
- Laravel + Breeze (Inertia Vue)
- Документи: MVP/architecture

### Етап 1 — Доменно‑дані (частково зроблено)
- Міграції + моделі
- Сіди категорій

### Етап 2 — Кабінет провайдера
- CRUD BusinessProfile
- CRUD Offer

### Етап 3 — Контент
- CRUD PortfolioPost
- CRUD Story + авто‑протухання

### Етап 4 — Угоди + відгуки
- створення угоди
- зміна статусів
- відгук після completed

### Етап 5 — Полірування
- базовий дизайн
- paging/filters
- тестування (feature tests)
